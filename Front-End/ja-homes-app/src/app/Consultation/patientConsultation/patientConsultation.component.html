<div class="container">
    <h1>Consultation</h1>

    <button class="button-S" (click)="toggleSection('search')">Search Consultation</button>

    <div *ngIf="showSearchSection" class="form-section">
        <h2>Search Consultation by ID</h2>
        <form (ngSubmit)="searchConsultation()">
            <div class="form-group">
                <label>Consultation ID:</label>
                <input type="number" name="consultationId" [(ngModel)]="consultationId" required>
            </div>
            <button type="submit">Search</button>
        </form>

        <div *ngIf="consultation && !isDataEmpty()" class="consultation-details">
            <h3>Consultation Details</h3>
            <table>
                <tr>
                    <th>Field</th>
                    <th>Value</th>
                </tr>
                <tr>
                    <td>Consultation ID:</td>
                    <td>{{ consultation.consultation_id }}</td>
                </tr>
                <tr>
                    <td>Doctor ID:</td>
                    <td>{{ consultation.doctor_id }}</td>
                </tr>
                <tr>
                    <td>Patient ID:</td>
                    <td>{{ consultation.patient_id }}</td>
                </tr>
                <tr>
                    <td>Doctor Name:</td>
                    <td>{{ consultation.doctor_name }}</td>
                </tr>
                <tr>
                    <td>Patient Name:</td>
                    <td>{{ consultation.patient_name }}</td>
                </tr>
                <tr>
                    <td>Request Time:</td>
                    <td>{{ consultation.consultation_requestTime }}</td>
                </tr>
                <tr>
                    <td>Consultation Time:</td>
                    <td>{{ consultation.consultation_time }}</td>
                </tr>
                <tr>
                    <td>Status:</td>
                    <td>{{ consultation.consultation_status }}</td>
                </tr>
                <tr>
                    <td>Diagnosis:</td>
                    <td>{{ consultation.consultation_diagnosis }}</td>
                </tr>
                <tr>
                    <td>Rate:</td>
                    <td>{{ consultation.consultation_rate }}</td>
                </tr>
            </table>
        </div>
        <div *ngIf="isDataEmpty() && consultation">
            <p>No result posted yet.</p>
        </div>
    </div>





    <button class="button-S" (click)="toggleSection('add')">Request Consultation</button>

    <div *ngIf="showAddSection" class="form-section">
        <h2>Add New Consultation</h2>
        <form (ngSubmit)="onSubmitInsert()">
            <div class="form-group">
                <label>Doctor ID:</label>
                <input type="number" name="doctor_id" [(ngModel)]="insertConsultation.doctor_id" required>
            </div>
            <div class="form-group">
                <label>Patient ID:</label>
                <input type="number" name="patient_id" [(ngModel)]="insertConsultation.patient_id" required>
            </div>
            <button type="submit">Submit</button>
        </form>
    </div>

    <button class="button-S" (click)="toggleSection('update')">Rate Consultation</button>

    <div *ngIf="showUpdateSection" class="form-section">
        <h2>Update Consultation Rate</h2>
        <form (ngSubmit)="onSubmitUpdateRate()">
            <div class="form-group">
                <label>Consultation ID:</label>
                <input type="number" name="consultation_id" [(ngModel)]="updateConsultationRate.consultation_id" required>
            </div>
            <div class="form-group">
                <label>Rate:</label>
                <input type="number" name="consultation_rate" [(ngModel)]="updateConsultationRate.consultation_rate" required>
            </div>
            <button type="submit">Submit</button>
        </form>
    </div>
</div>
